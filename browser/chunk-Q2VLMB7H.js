import{a as ee}from"./chunk-5XKXZTMD.js";import{Bc as b,Ca as d,Dc as D,Fc as E,Gc as S,Ha as p,Hc as A,Ic as Z,Jc as $,La as N,Mb as X,Nb as q,Sa as W,Wc as g,Ya as e,Za as t,cb as c,eb as H,fb as U,ja as B,kb as o,lb as I,mb as L,ob as V,oc as J,pb as f,pc as h,qb as u,qc as K,rb as C,rc as M,sc as _,tb as Y,tc as x,ub as G,uc as v,vc as y,wa as F,wc as P,xa as m,xc as w,yc as O,zc as Q}from"./chunk-TY5NBYLZ.js";var R=class l{constructor(r){this.data=r}static \u0275fac=function(i){return new(i||l)(d(h))};static \u0275cmp=p({type:l,selectors:[["app-conversion-dialog"]],decls:11,vars:4,consts:[[1,"dialog-title"],[1,"coin-icon"],["mat-dialog-title",""],["align","end"],["mat-button","","mat-dialog-close","",1,"dialog-close-button"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"span",1),o(2,"\u{1F4B0}"),t(),e(3,"h2",2),o(4,"Convers\xE3o Realizada"),t()(),e(5,"mat-dialog-content")(6,"p"),o(7),t()(),e(8,"mat-dialog-actions",3)(9,"button",4),o(10," Fechar "),t()()),i&2&&(m(7),V("",n.data.fromAmount.toFixed(2)," ",n.data.fromCurrency," = ",n.data.toAmount," ",n.data.toCurrency,""))},dependencies:[g,b,M,_,v,x],styles:["[_nghost-%COMP%]{display:block;background-image:linear-gradient(to bottom right,#172554,#0a1327e6);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border:5px solid rgba(58,145,188,.9);border-radius:27px;padding:1.5rem 2rem;color:#84b3ff;font-weight:600;cursor:pointer}.dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:700;margin-bottom:2rem;text-align:center;gap:.5rem;flex-direction:row}.coin-icon[_ngcontent-%COMP%]{font-size:2rem;filter:drop-shadow(0 0 4px rgba(255,215,0,.6));display:flex;align-items:center;justify-content:center}h2[mat-dialog-title][_ngcontent-%COMP%], h2.mat-dialog-title[_ngcontent-%COMP%]{color:#fff;margin:-13px -13px -25px;font-size:1.75rem;font-weight:400;text-align:center}@media (max-width: 600px){.dialog-title[_ngcontent-%COMP%]{flex-direction:column}}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem;color:#84b3ff;text-align:center}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.dialog-close-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-500),var(--primary-700));color:#fff;border:none;border-radius:10px;padding:.5rem 1.5rem;font-size:1rem;font-weight:400;cursor:pointer;transition:all .3s ease}.dialog-close-button[_ngcontent-%COMP%]:hover{filter:brightness(1.1);box-shadow:0 6px 12px #93c5fdcc;transform:translateY(-1px)}@media (max-width: 768px){[_nghost-%COMP%]{max-width:90vw;padding:1rem 1.5rem;border-radius:20px;border-width:3px}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.dialog-close-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;font-size:1rem}mat-dialog-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem;margin-top:1rem}}@media (max-width: 480px){[_nghost-%COMP%]{padding:.75rem 1rem;border-radius:16px}h2[mat-dialog-title][_ngcontent-%COMP%]{font-size:1.25rem;text-align:center}.dialog-close-button[_ngcontent-%COMP%]{font-size:1rem;padding:.75rem 1rem}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}}"]})};var k=class l{constructor(r,i){this.dialogRef=r;this.data=i;this.newRate=i.currentRate}newRate;confirm(){this.dialogRef.close(this.newRate)}static \u0275fac=function(i){return new(i||l)(d(J),d(h))};static \u0275cmp=p({type:l,selectors:[["app-update-rate-dialog"]],decls:16,vars:1,consts:[["mat-dialog-title",""],[1,"dialog-title"],[1,"coin-icon"],[1,"title-text"],[2,"color","black"],["appearance","fill",2,"width","100%","border-radius","20px"],["matInput","","type","number",3,"ngModelChange","ngModel"],["align","end"],["mat-button","","mat-dialog-close","",2,"color","var(--primary-300)"],["mat-raised-button","",1,"dialog-close-button",3,"click"]],template:function(i,n){i&1&&(e(0,"h2",0)(1,"div",1)(2,"span",2),o(3,"\u{1F4B0}"),t(),e(4,"span",3),o(5,"Atualizar Taxa de C\xE2mbio"),t()()(),e(6,"mat-dialog-content")(7,"mat-label",4),o(8,"Nova Taxa"),t(),e(9,"mat-form-field",5)(10,"input",6),C("ngModelChange",function(a){return u(n.newRate,a)||(n.newRate=a),a}),t()()(),e(11,"mat-dialog-actions",7)(12,"button",8),o(13,"Cancelar"),t(),e(14,"button",9),c("click",function(){return n.confirm()}),o(15,"Salvar"),t()()),i&2&&(m(10),f("ngModel",n.newRate))},dependencies:[g,y,O,P,w,S,E,A,b,M,_,v,x],styles:["[_nghost-%COMP%]{display:block;background-image:linear-gradient(to bottom right,#172554,#0a1327e6);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border:5px solid rgba(58,145,188,.9);border-radius:27px;padding:1.5rem 2rem;color:#84b3ff;font-weight:600;cursor:pointer}.dialog-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:1.75rem;font-weight:400;margin:0;padding:0 1rem;line-height:1.3;text-align:center}.coin-icon[_ngcontent-%COMP%]{font-size:2rem;filter:drop-shadow(0 0 4px rgba(255,215,0,.6));display:flex;align-items:center}.title-text[_ngcontent-%COMP%]{display:flex;align-items:center}h2[mat-dialog-title][_ngcontent-%COMP%], h2.mat-dialog-title[_ngcontent-%COMP%]{color:#fff;font-size:1.75rem;font-weight:500;text-align:center;margin-bottom:20px}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:1.5rem;color:#84b3ff;text-align:center}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.dialog-close-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-500),var(--primary-700));color:#fff;border:none;border-radius:10px;padding:.5rem 1.5rem;font-size:1rem;font-weight:400;cursor:pointer;transition:all .3s ease}.dialog-close-button[_ngcontent-%COMP%]:hover{filter:brightness(1.1);box-shadow:0 6px 12px #93c5fdcc;transform:translateY(-1px)}@media (max-width: 768px){[_nghost-%COMP%]{max-width:90vw;padding:1rem 1.5rem;border-radius:20px;border-width:3px}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.dialog-close-button[_ngcontent-%COMP%]{width:100%;padding:.75rem;font-size:1rem}mat-dialog-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem;margin-top:1rem}}@media (max-width: 480px){[_nghost-%COMP%]{padding:.75rem 1rem;border-radius:16px}h2[mat-dialog-title][_ngcontent-%COMP%]{font-size:1.25rem;text-align:center}.dialog-close-button[_ngcontent-%COMP%]{font-size:1rem;padding:.75rem 1rem}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:center}}"]})};var me=["*"],T=class l{static \u0275fac=function(i){return new(i||l)};static \u0275cmp=p({type:l,selectors:[["app-card"]],ngContentSelectors:me,decls:2,vars:0,consts:[[1,"rate-card"]],template:function(i,n){i&1&&(H(),e(0,"mat-card",0),U(1),t())},dependencies:[g,D],styles:[".rate-card[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#172554,#0a1327e6);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border:1px solid rgba(58,145,188,.5);border-radius:16px;padding:1.5rem;margin-bottom:2rem}"]})};function se(l,r){l&1&&(e(0,"div",21),o(1,"Valor inv\xE1lido"),t())}var oe=class l{constructor(r,i,n){this.dialog=r;this.elRef=i;this.conversionHistory=n}lastUpdate=new Date;currentRate=2.45;fromCurrency="OR";toCurrency="TB";fromAmount=null;toAmount="0.00";showError=!1;updateConversion(){let r=this.currentRate;if(!this.fromAmount||this.fromAmount<0){this.showError=!0,this.toAmount="0.00";return}this.showError=!1,this.fromCurrency===this.toCurrency?this.toAmount=this.fromAmount.toFixed(2):this.fromCurrency==="OR"&&this.toCurrency==="TB"?this.toAmount=(this.fromAmount*r).toFixed(2):this.toAmount=(this.fromAmount/r).toFixed(2)}onClickOutside(r){this.elRef.nativeElement.contains(r.target)||this.clearInput()}clearInput(){this.fromAmount=0,this.showError=!1,this.toAmount="0.00"}performConversion(){if(this.updateConversion(),this.showError)return;if(!this.fromCurrency||!this.toCurrency||this.fromAmount==null||this.toAmount==null){this.showError=!0;return}let r={id:this.generateTransactionId(),fromCurrency:this.fromCurrency,toCurrency:this.toCurrency,fromAmount:this.fromAmount,toAmount:this.toAmount,dateTime:new Date().toISOString()};this.conversionHistory.addTransaction(r),this.dialog.open(R,{width:"600",data:{fromAmount:this.fromAmount,fromCurrency:this.fromCurrency,toAmount:this.toAmount,toCurrency:this.toCurrency}})}generateTransactionId(){return"TX"+Math.floor(Math.random()*1e6)}openRateModal(){this.dialog.open(k,{width:"600",data:{currentRate:this.currentRate}}).afterClosed().subscribe(i=>{i!==this.currentRate&&(this.currentRate=parseFloat(i.toFixed(2)),this.lastUpdate=new Date)})}static \u0275fac=function(i){return new(i||l)(d(K),d(B),d(ee))};static \u0275cmp=p({type:l,selectors:[["app-conversion-panel"]],hostBindings:function(i,n){i&1&&c("click",function(a){return n.onClickOutside(a)},!1,F)},decls:52,vars:10,consts:[[1,"conversion-panel-container"],[1,"rate-card-content"],[1,"rate-info"],[1,"rate-display"],[1,"label"],["id","currentRate",1,"rate-value"],[1,"last-update"],["mat-raised-button","","color","primary",1,"close-button",3,"click"],[1,"conversion-grid"],[1,"conversion-card","card-hover","animate-slide-up"],[2,"color","#fff","font-size","25px"],["appearance","fill",1,"full-width"],[3,"ngModelChange","selectionChange","ngModel"],["value","OR"],["value","TB"],["matInput","","type","number","placeholder","0.00","min","0",3,"ngModelChange","input","ngModel"],["id","fromError","class","error-message",4,"ngIf"],[1,"converted-value-box"],[1,"converted-value"],[1,"conversion-button","animate-fade-in"],["mat-raised-button","",1,"close-button",3,"click"],["id","fromError",1,"error-message"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"app-card")(2,"div",1)(3,"div",2)(4,"h2"),o(5,"Taxa de C\xE2mbio Atual"),t(),e(6,"div",3)(7,"span",4),o(8,"1 Ouro Real ="),t(),e(9,"span",5),o(10),t(),e(11,"span",4),o(12,"Tibar"),t()(),e(13,"p",6),o(14," \xDAltima atualiza\xE7\xE3o: "),e(15,"span"),o(16),Y(17,"date"),t()()(),e(18,"button",7),c("click",function(){return n.openRateModal()}),o(19,"Atualizar Taxa"),t()()(),e(20,"div",8)(21,"mat-card",9)(22,"h3",10),o(23,"Converter De"),t(),e(24,"mat-form-field",11)(25,"mat-select",12),C("ngModelChange",function(a){return u(n.fromCurrency,a)||(n.fromCurrency=a),a}),c("selectionChange",function(){return n.updateConversion()}),e(26,"mat-option",13),o(27,"Ouro Real (OR)"),t(),e(28,"mat-option",14),o(29,"Tibar (TB)"),t()()(),e(30,"mat-label"),o(31,"Valor"),t(),e(32,"mat-form-field",11)(33,"input",15),C("ngModelChange",function(a){return u(n.fromAmount,a)||(n.fromAmount=a),a}),c("input",function(){return n.updateConversion()}),t()(),N(34,se,2,0,"div",16),t(),e(35,"mat-card",9)(36,"h3",10),o(37,"Converter Para"),t(),e(38,"mat-form-field",11)(39,"mat-select",12),C("ngModelChange",function(a){return u(n.toCurrency,a)||(n.toCurrency=a),a}),c("selectionChange",function(){return n.updateConversion()}),e(40,"mat-option",14),o(41,"Tibar (TB)"),t(),e(42,"mat-option",13),o(43,"Ouro Real (OR)"),t()()(),e(44,"div",17)(45,"label"),o(46,"Valor Convertido"),t(),e(47,"div",18),o(48),t()()()(),e(49,"div",19)(50,"button",20),c("click",function(){return n.performConversion()}),o(51," Realizar Convers\xE3o"),t()()()),i&2&&(m(10),I(n.currentRate.toFixed(2)),m(6),L(" ",G(17,7,n.lastUpdate,"HH:mm")," "),m(9),f("ngModel",n.fromCurrency),m(8),f("ngModel",n.fromAmount),m(),W("ngIf",n.showError),m(5),f("ngModel",n.toCurrency),m(9),I(n.toAmount))},dependencies:[g,X,y,O,P,Q,w,D,S,E,A,$,Z,b,q,T],styles:[".conversion-panel-container[_ngcontent-%COMP%]{width:85%;margin:0 auto;padding:2rem 1rem;animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}.close-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-500),var(--primary-700));color:#fff;border:none;border-radius:10px;padding:.6rem 1.5rem;font-size:1rem;font-weight:400;cursor:pointer;transition:all .3s ease;height:55px}.close-button[_ngcontent-%COMP%]:hover{filter:brightness(1.1);box-shadow:0 6px 12px #93c5fdcc;transform:translateY(-1px)}.btn-update[_ngcontent-%COMP%]{border:10px;height:70px;background:linear-gradient(135deg,#6366f1,#4338ca);color:#fff}.rate-card[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#172554,#0a1327e6);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border:1px solid rgba(58,145,188,.5);border-radius:16px;padding:1.5rem;margin-bottom:2rem}.rate-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:space-between}@media (min-width: 768px){.rate-card-content[_ngcontent-%COMP%]{flex-direction:row;align-items:center}}.rate-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:.5rem}.rate-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.label[_ngcontent-%COMP%]{color:#a0a0ff}.rate-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#84b3ff}.last-update[_ngcontent-%COMP%]{color:#ccc;font-size:.9rem;margin-top:.25rem}.conversion-grid[_ngcontent-%COMP%]{display:grid;gap:2rem}@media (min-width: 768px){.conversion-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.conversion-card[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#172554,#0a1327e6);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border:1px solid rgba(58,145,188,.5);border-radius:16px;padding:1.5rem}.full-width[_ngcontent-%COMP%]{width:100%}.converted-value-box[_ngcontent-%COMP%]{margin-top:1rem}.converted-value[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#172554,#0a1327e6);border:1px solid #556;border-radius:12px;padding:1rem;font-size:1.5rem;font-weight:600;color:#84b3ff}.conversion-button[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}.error-message[_ngcontent-%COMP%]{color:#ff7373;margin-top:.5rem;font-size:.85rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(10)}}"]})};export{oe as ConversionPanelComponent};
